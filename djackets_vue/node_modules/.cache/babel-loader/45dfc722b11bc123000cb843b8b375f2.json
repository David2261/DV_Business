{"remainingRequest":"/home/bulat/DV_Business/djackets_vue/node_modules/babel-loader/lib/index.js!/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/bulat/DV_Business/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/bulat/DV_Business/djackets_vue/src/views/Category.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/bulat/DV_Business/djackets_vue/src/views/Category.vue","mtime":1673904372054},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1673974982696},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1673974985624},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1673974982696},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1673974976199}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2J1bGF0L0RWX0J1c2luZXNzL2RqYWNrZXRzX3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IHRvYXN0IH0gZnJvbSAnYnVsbWEtdG9hc3QnOwppbXBvcnQgUHJvZHVjdEJveCBmcm9tICdAL2NvbXBvbmVudHMvUHJvZHVjdEJveCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2F0ZWdvcnknLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2R1Y3RCb3g6IFByb2R1Y3RCb3gKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXRlZ29yeTogewogICAgICAgIHByb2R1Y3RzOiBbXQogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q2F0ZWdvcnkoKTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bywgZnJvbSkgewogICAgICBpZiAodG8ubmFtZSA9PT0gJ0NhdGVnb3J5JykgewogICAgICAgIHRoaXMuZ2V0Q2F0ZWdvcnkoKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2F0ZWdvcnk6IGZ1bmN0aW9uIGdldENhdGVnb3J5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY2F0ZWdvcnlTbHVnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNhdGVnb3J5U2x1ZyA9IF90aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZWdvcnlfc2x1ZzsKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCB0cnVlKTsKCiAgICAgICAgICAgICAgICBheGlvcy5nZXQoIi9hcGkvdjEvcHJvZHVjdHMvIi5jb25jYXQoY2F0ZWdvcnlTbHVnLCAiLyIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5jYXRlZ29yeSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gX3RoaXMuY2F0ZWdvcnkubmFtZSArICcgfCBEamFja2V0cyc7CiAgICAgICAgICAgICAgICB9KSAvLyDQktGL0LLQvtC00LjRgiDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INC/0YDQuCDQu9GO0LHQvtC5INC+0YjQuNCx0LrQtQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaXMtZGFuZ2VyJywKICAgICAgICAgICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/bulat/DV_Business/djackets_vue/src/views/Category.vue"],"names":[],"mappings":";;;AAgBA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AAGA,eAAe;AACX,EAAA,IAAI,EAAE,UADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,UAAS,EAAT;AADQ,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,QAAQ,EAAE;AACN,QAAA,QAAQ,EAAE;AADJ;AADP,KAAP;AAKH,GAXU;AAYX,EAAA,OAZW,qBAYD;AACN,SAAK,WAAL;AACH,GAdU;AAeX,EAAA,KAAK,EAAE;AACH,IAAA,MADG,kBACI,EADJ,EACQ,IADR,EACc;AACb,UAAI,EAAE,CAAC,IAAH,KAAY,UAAhB,EAA4B;AACxB,aAAK,WAAL;AACJ;AACJ;AALG,GAfI;AAsBX,EAAA,OAAO,EAAE;AACC,IAAA,WADD,yBACe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACV,gBAAA,YADU,GACK,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,aADxB;;AAEhB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AACA,gBAAA,KAAI,CACC,GADL,4BAC6B,YAD7B,QAEK,IAFL,CAEU,UAAA,QAAO,EAAK;AACd,kBAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AACA,kBAAA,QAAQ,CAAC,KAAT,GAAiB,KAAI,CAAC,QAAL,CAAc,IAAd,GAAqB,aAAtC;AACH,iBALL,EAMI;AANJ,iBAOK,KAPL,CAOW,UAAA,KAAI,EAAK;AACZ,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,kBAAA,KAAK,CAAC;AACF,oBAAA,OAAO,EAAE,yCADP;AAEF,oBAAA,IAAI,EAAE,WAFJ;AAGF,oBAAA,WAAW,EAAE,IAHX;AAIF,oBAAA,YAAY,EAAE,IAJZ;AAKF,oBAAA,QAAQ,EAAE,IALR;AAMF,oBAAA,QAAQ,EAAE;AANR,mBAAD,CAAL;AAQH,iBAjBL;;AAkBA,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AArBgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBpB;AAvBK;AAtBE,CAAf","sourcesContent":["<template>\n    <div class=\"page-category\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h2 class=\"is-size-2 has-text-centered\">{{ category.name }}</h2>\n            </div>\n\n            <ProductBox \n                v-for=\"product in category.products\"\n                v-bind:key=\"product.id\"\n                v-bind:product=\"product\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\nimport ProductBox from '@/components/ProductBox'\n\n\nexport default {\n    name: 'Category',\n    components: {\n        ProductBox\n    },\n    data() {\n        return {\n            category: {\n                products: []\n            }\n        }\n    },\n    mounted() {\n        this.getCategory()\n    },\n    watch: {\n        $route(to, from) {\n            if (to.name === 'Category') {\n                this.getCategory()\n            }\n        }\n    },\n    methods: {\n        async getCategory() {\n            const categorySlug = this.$route.params.category_slug\n            this.$store.commit('setIsLoading', true)\n            axios\n                .get(`/api/v1/products/${categorySlug}/`)\n                .then(response => {\n                    this.category = response.data\n                    document.title = this.category.name + ' | Djackets'\n                })\n                // Выводит уведомление при любой ошибке\n                .catch(error => {\n                    console.log(error)\n                    toast({\n                        message: 'Something went wrong. Please try again.',\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                        duration: 2000,\n                        position: 'bottom-right',\n                    })\n                })\n            this.$store.commit('setIsLoading', false)\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}