{"remainingRequest":"/home/bulat/DV_Business/djackets_vue/node_modules/babel-loader/lib/index.js!/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/bulat/DV_Business/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/bulat/DV_Business/djackets_vue/src/views/Product.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/bulat/DV_Business/djackets_vue/src/views/Product.vue","mtime":1673904372058},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1673974982696},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1673974985624},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1673974982696},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1673974976199}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2J1bGF0L0RWX0J1c2luZXNzL2RqYWNrZXRzX3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IHRvYXN0IH0gZnJvbSAnYnVsbWEtdG9hc3QnOwovKgrQoNCw0YHRiNC40YDQtdC90LjQtSBCdWxtYSDQvdCwINGH0LjRgdGC0L7QvCBKYXZhU2NyaXB0INC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINGC0L7RgdGC0L7Qsi4K0JIg0L7RgdC90L7QstC90L7QvCDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1IEJ1bG1hINGA0LXQsNC70LjQt9C+0LLQsNC90L4g0LrQsNC6INC/0LvQsNCz0LjQvSDRgtC+0YHRgtCwLgoqLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9kdWN0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdDoge30sCiAgICAgIHF1YW50aXR5OiAxCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UHJvZHVjdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g0JLRi9Cy0L7QtNC40YIg0YHQv9C40YHQvtC6INGC0L7QstCw0YDQvtCyINC/0L4g0LrQsNGC0LXQs9C+0YDQuNC4CiAgICBnZXRQcm9kdWN0OiBmdW5jdGlvbiBnZXRQcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY2F0ZWdvcnlfc2x1ZywgcHJvZHVjdF9zbHVnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIHRydWUpOwoKICAgICAgICAgICAgICAgIGNhdGVnb3J5X3NsdWcgPSBfdGhpcy4kcm91dGUucGFyYW1zLmNhdGVnb3J5X3NsdWc7CiAgICAgICAgICAgICAgICBwcm9kdWN0X3NsdWcgPSBfdGhpcy4kcm91dGUucGFyYW1zLnByb2R1Y3Rfc2x1ZzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS92MS9wcm9kdWN0cy8iLmNvbmNhdChjYXRlZ29yeV9zbHVnLCAiLyIpLmNvbmNhdChwcm9kdWN0X3NsdWcpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5wcm9kdWN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBfdGhpcy5wcm9kdWN0Lm5hbWUgKyAnIHwgRGphY2tldHMnOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDRgtC+0LLQsNGA0LAg0LIg0LrQvtGA0LfQuNC90YMKICAgIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KCkgewogICAgICBpZiAoaXNOYU4odGhpcy5xdWFudGl0eSkgfHwgdGhpcy5xdWFudGl0eSA8IDEpIHsKICAgICAgICB0aGlzLnF1YW50aXR5ID0gMTsKICAgICAgfQoKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LAogICAgICAgIHF1YW50aXR5OiB0aGlzLnF1YW50aXR5CiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkVG9DYXJ0JywgaXRlbSk7IC8vINCV0YHQu9C4INCy0YHQtSDRg9GB0L/QtdGI0L3QviDQstGL0LLQvtC00LjRgtGM0YHRjywg0Y3RgtC+CgogICAgICB0b2FzdCh7CiAgICAgICAgbWVzc2FnZTogJ1RoZSBwcm9kdWN0IHdhcyBhZGRlZCB0byB0aGUgY2FydCcsCiAgICAgICAgdHlwZTogJ2lzLXN1Y2Nlc3MnLAogICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1yaWdodCcKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/bulat/DV_Business/djackets_vue/src/views/Product.vue"],"names":[],"mappings":";;;;AAiCA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AAEA;AACA;AACA;AACA;;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,SADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,OAAO,EAAE,EADN;AAEH,MAAA,QAAQ,EAAE;AAFP,KAAP;AAIH,GAPU;AAQX,EAAA,OARW,qBAQD;AACN,SAAK,UAAL;AACH,GAVU;AAWX,EAAA,OAAO,EAAE;AACL;AACM,IAAA,UAFD,wBAEc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACf,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AACM,gBAAA,aAFS,GAEO,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,aAF1B;AAGT,gBAAA,YAHS,GAGM,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,YAHzB;AAAA;AAAA,uBAIT,KAAI,CACL,GADC,4BACuB,aADvB,cACwC,YADxC,GAED,IAFC,CAEI,UAAA,QAAO,EAAK;AACd,kBAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AACA,kBAAA,QAAQ,CAAC,KAAT,GAAiB,KAAI,CAAC,OAAL,CAAa,IAAb,GAAoB,aAArC;AACH,iBALC,EAMD,KANC,CAMK,UAAA,KAAI,EAAK;AACZ,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACH,iBARC,CAJS;;AAAA;AAcf,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAde;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAelB,KAjBI;AAkBL;AACA,IAAA,SAnBK,uBAmBO;AACR,UAAI,KAAK,CAAC,KAAK,QAAN,CAAL,IAAwB,KAAK,QAAL,GAAgB,CAA5C,EAA+C;AAC3C,aAAK,QAAL,GAAgB,CAAhB;AACJ;;AACA,UAAM,IAAG,GAAI;AACT,QAAA,OAAO,EAAE,KAAK,OADL;AAET,QAAA,QAAQ,EAAE,KAAK;AAFN,OAAb;AAIA,WAAK,MAAL,CAAY,MAAZ,CAAmB,WAAnB,EAAgC,IAAhC,EARQ,CASR;;AACA,MAAA,KAAK,CAAC;AACF,QAAA,OAAO,EAAE,mCADP;AAEF,QAAA,IAAI,EAAE,YAFJ;AAGF,QAAA,WAAW,EAAE,IAHX;AAIF,QAAA,YAAY,EAAE,IAJZ;AAKF,QAAA,QAAQ,EAAE,IALR;AAMF,QAAA,QAAQ,EAAE;AANR,OAAD,CAAL;AAQJ;AArCK;AAXE,CAAf","sourcesContent":["<template>\n    <div class=\"page-product\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-9\">\n                <figure class=\"image mb-6\">\n                    <img v-bind:src=\"product.get_image\">\n                </figure>\n\n                <h1 class=\"title\">{{ product.name }}</h1>\n\n                <p>{{ product.description }}</p>\n            </div>\n\n            <div class=\"column is-3\">\n                <h2 class=\"subtitle\">Information</h2>\n\n                <p><strong>Price: </strong>${{ product.price }}</p>\n\n                <div class=\"field has-addons mt-6\">\n                    <div class=\"control\">\n                        <input type=\"number\" class=\"input\" min=\"1\" v-model=\"quantity\">\n                    </div>\n\n                    <div class=\"control\">\n                        <a class=\"button is-dark\" @click=\"addToCart()\">Add to cart</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\n\n/*\nРасширение Bulma на чистом JavaScript для отображения тостов.\nВ основном уведомление Bulma реализовано как плагин тоста.\n*/\n\nexport default {\n    name: 'Product',\n    data() {\n        return {\n            product: {},\n            quantity: 1\n        }\n    },\n    mounted() {\n        this.getProduct() \n    },\n    methods: {\n        // Выводит список товаров по категории\n        async getProduct() {\n            this.$store.commit('setIsLoading', true)\n            const category_slug = this.$route.params.category_slug\n            const product_slug = this.$route.params.product_slug\n            await axios\n                .get(`/api/v1/products/${category_slug}/${product_slug}`)\n                .then(response => {\n                    this.product = response.data\n                    document.title = this.product.name + ' | Djackets'\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            \n            this.$store.commit('setIsLoading', false)\n        },\n        // Добавление товара в корзину\n        addToCart() {\n            if (isNaN(this.quantity) || this.quantity < 1) {\n                this.quantity = 1\n            }\n            const item = {\n                product: this.product,\n                quantity: this.quantity\n            }\n            this.$store.commit('addToCart', item)\n            // Если все успешно выводиться, это\n            toast({\n                message: 'The product was added to the cart',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: 'bottom-right',\n            })\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}