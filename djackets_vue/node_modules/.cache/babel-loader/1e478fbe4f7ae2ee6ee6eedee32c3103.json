{"remainingRequest":"/home/bulat/DV_Business/djackets_vue/node_modules/babel-loader/lib/index.js!/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/bulat/DV_Business/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/bulat/DV_Business/djackets_vue/src/App.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/bulat/DV_Business/djackets_vue/src/App.vue","mtime":1673904372054},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1673974982696},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1673974985624},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1673974982696},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1673974976199}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93TW9iaWxlTWVudTogZmFsc2UsCiAgICAgIGNhcnQ6IHsKICAgICAgICBpdGVtczogW10KICAgICAgfQogICAgfTsKICB9LAogIC8vINCf0YDQuCDRgNC10LPQuNGB0YLRgNCw0YbQuNC4INGB0L7Qt9C00LDQtdGC0YHRjyDQvtGC0LTQtdC70YzQvdGL0Lkg0YLQvtC60LXQvQogIC8vINC60L7RgtC+0YDRi9C5INC30LDRgtC10Lwg0YHQvtGF0YDQsNC90Y/QtdGC0YHRjyDQvdCwINGB0YLQvtGA0L7QvdC1IGJhY2tlbmQKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaW5pdGlhbGl6ZVN0b3JlJyk7CiAgICB2YXIgdG9rZW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbjsKCiAgICBpZiAodG9rZW4pIHsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICJUb2tlbiAiICsgdG9rZW47CiAgICB9IGVsc2UgewogICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gIiI7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5jYXJ0ID0gdGhpcy4kc3RvcmUuc3RhdGUuY2FydDsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDQodGD0LzQvNC40YDRg9C10YIg0LrQvtC7LdCy0L4g0YLQvtCy0LDRgNC+0LIg0LIg0LrQvtGA0LfQuNC90LUKICAgIC8vIDAgPT4gWAogICAgY2FydFRvdGFsTGVuZ3RoOiBmdW5jdGlvbiBjYXJ0VG90YWxMZW5ndGgoKSB7CiAgICAgIHZhciB0b3RhbExlbmd0aCA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2FydC5pdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRvdGFsTGVuZ3RoICs9IHRoaXMuY2FydC5pdGVtc1tpXS5xdWFudGl0eTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRvdGFsTGVuZ3RoOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/bulat/DV_Business/djackets_vue/src/App.vue"],"names":[],"mappings":"AAyEA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,cAAc,EAAE,KADX;AAEL,MAAA,IAAI,EAAE;AACJ,QAAA,KAAK,EAAE;AADH;AAFD,KAAP;AAMD,GARY;AASb;AACA;AACA,EAAA,YAXa,0BAWE;AACb,SAAK,MAAL,CAAY,MAAZ,CAAmB,iBAAnB;AACA,QAAM,KAAI,GAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,KAAhC;;AACA,QAAI,KAAJ,EAAW;AACP,MAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,WAAW,KAA5D;AACJ,KAFA,MAEO;AACH,MAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;AACJ;AACD,GAnBY;AAoBb,EAAA,OApBa,qBAoBH;AACR,SAAK,IAAL,GAAY,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAA9B;AACD,GAtBY;AAuBb,EAAA,QAAQ,EAAE;AACN;AACA;AACA,IAAA,eAHM,6BAGY;AACd,UAAI,WAAU,GAAI,CAAlB;;AACA,WAAK,IAAI,CAAA,GAAI,CAAb,EAAgB,CAAA,GAAI,KAAK,IAAL,CAAU,KAAV,CAAgB,MAApC,EAA4C,CAAC,EAA7C,EAAiD;AAC7C,QAAA,WAAU,IAAK,KAAK,IAAL,CAAU,KAAV,CAAgB,CAAhB,EAAmB,QAAlC;AACJ;;AACA,aAAO,WAAP;AACJ;AATM;AAvBG,CAAf","sourcesContent":["<template>\n  <div id=\"wrapper\">\n    <nav class=\"navbar is-dark\">\n      <div class=\"navbar-brand\">\n        <router-link to=\"/\" class=\"navbar-item\"><strong>Djackets</strong></router-link>\n\n        <a class=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbar-menu\" @click=\"showMobileMenu = !showMobileMenu\">\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n        </a>\n      </div>\n\n      <div class=\"navbar-menu\" id=\"navbar-menu\" v-bind:class=\"{'is-active': showMobileMenu }\">\n        <div class=\"navbar-start\">\n          <div class=\"navbar-item\">\n            <form method=\"get\" action=\"/search\">\n              <div class=\"field has-addons\">\n                <div class=\"control\">\n                  <input type=\"text\" class=\"input\" placeholder=\"What are you looking for?\" name=\"query\">\n                </div>\n\n                <div class=\"control\">\n                  <button class=\"button is-success\">\n                      <span class=\"icon\">\n                      <i class=\"fas fa-search\"></i>\n                      </span>\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <div class=\"navbar-end\">\n          <router-link to=\"/summer\" class=\"navbar-item\">Summer</router-link>\n          <router-link to=\"/winter\" class=\"navbar-item\">Winter</router-link>\n\n          <div class=\"navbar-item\">\n            <div class=\"buttons\">\n              <template v-if=\"$store.state.isAuthenticated\">\n                <router-link to=\"/my-account\" class=\"button is-light\">My account</router-link>\n              </template>\n\n              <template v-else>\n                <router-link to=\"/log-in\" class=\"button is-light\">Log in</router-link>\n              </template>\n\n              <router-link to=\"/cart\" class=\"button is-success\">\n                <span class=\"icon\"><i class=\"fas fa-shopping-cart\"></i></span>\n                <span>Cart ({{ cartTotalLength }})</span>\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </nav>\n\n    <div class=\"is-loading-bar has-text-centered\" v-bind:class=\"{'is-loading': $store.state.isLoading }\">\n      <div class=\"lds-dual-ring\"></div>\n    </div>\n\n    <section class=\"section\">\n      <router-view/>\n    </section>\n\n    <footer class=\"footer\">\n      <p class=\"has-text-centered\">Copyright (c) 2021</p>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  data() {\n    return {\n      showMobileMenu: false,\n      cart: {\n        items: []\n      }\n    }\n  },\n  // При регистрации создается отдельный токен\n  // который затем сохраняется на стороне backend\n  beforeCreate() {\n    this.$store.commit('initializeStore')\n    const token = this.$store.state.token\n    if (token) {\n        axios.defaults.headers.common['Authorization'] = \"Token \" + token\n    } else {\n        axios.defaults.headers.common['Authorization'] = \"\"\n    }\n  },\n  mounted() {\n    this.cart = this.$store.state.cart\n  },\n  computed: {\n      // Суммирует кол-во товаров в корзине\n      // 0 => X\n      cartTotalLength() {\n          let totalLength = 0\n          for (let i = 0; i < this.cart.items.length; i++) {\n              totalLength += this.cart.items[i].quantity\n          }\n          return totalLength\n      }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../node_modules/bulma';\n.lds-dual-ring {\n  display: inline-block;\n  width: 80px;\n  height: 80px;\n}\n.lds-dual-ring:after {\n  content: \" \";\n  display: block;\n  width: 64px;\n  height: 64px;\n  margin: 8px;\n  border-radius: 50%;\n  border: 6px solid #ccc;\n  border-color: #ccc transparent #ccc transparent;\n  animation: lds-dual-ring 1.2s linear infinite;\n}\n@keyframes lds-dual-ring {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.is-loading-bar {\n  height: 0;\n  overflow: hidden;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n  &.is-loading {\n    height: 80px;\n  }\n}\n</style>"],"sourceRoot":""}]}