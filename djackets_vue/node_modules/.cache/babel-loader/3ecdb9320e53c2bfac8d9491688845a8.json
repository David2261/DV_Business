{"remainingRequest":"/home/bulat/DV_Business/djackets_vue/node_modules/babel-loader/lib/index.js!/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/bulat/DV_Business/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/bulat/DV_Business/djackets_vue/src/views/MyAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/bulat/DV_Business/djackets_vue/src/views/MyAccount.vue","mtime":1673904372058},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1673974982696},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1673974985624},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1673974982696},{"path":"/home/bulat/DV_Business/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1673974976199}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2J1bGF0L0RWX0J1c2luZXNzL2RqYWNrZXRzX3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IE9yZGVyU3VtbWFyeSBmcm9tICdAL2NvbXBvbmVudHMvT3JkZXJTdW1tYXJ5LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTXlBY2NvdW50JywKICBjb21wb25lbnRzOiB7CiAgICBPcmRlclN1bW1hcnk6IE9yZGVyU3VtbWFyeQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9yZGVyczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSAnTXkgYWNjb3VudCB8IERqYWNrZXRzJzsKICAgIHRoaXMuZ2V0TXlPcmRlcnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdID0gIiI7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlcm5hbWUiKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJpZCIpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3JlbW92ZVRva2VuJyk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICB9LAogICAgZ2V0TXlPcmRlcnM6IGZ1bmN0aW9uIGdldE15T3JkZXJzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCB0cnVlKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9hcGkvdjEvb3JkZXJzLycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm9yZGVycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/bulat/DV_Business/djackets_vue/src/views/MyAccount.vue"],"names":[],"mappings":";;AA0BA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP,MAAyB,+BAAzB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,WADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,YAAW,EAAX;AADQ,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,MAAM,EAAE;AADL,KAAP;AAGH,GATU;AAUX,EAAA,OAVW,qBAUD;AACN,IAAA,QAAQ,CAAC,KAAT,GAAiB,uBAAjB;AACA,SAAK,WAAL;AACH,GAbU;AAcX,EAAA,OAAO,EAAE;AACL,IAAA,MADK,oBACI;AACL,MAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,UAAxB;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,QAAxB;AACA,WAAK,MAAL,CAAY,MAAZ,CAAmB,aAAnB;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACH,KARI;AASC,IAAA,WATD,yBASe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AADgB;AAAA,uBAEV,KAAI,CACL,GADC,CACG,iBADH,EAED,IAFC,CAEI,UAAA,QAAO,EAAK;AACd,kBAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAvB;AACH,iBAJC,EAKD,KALC,CAKK,UAAA,KAAI,EAAK;AACZ,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACH,iBAPC,CAFU;;AAAA;AAUhB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAVgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWpB;AApBK;AAdE,CAAf","sourcesContent":["<template>\n    <div class=\"page-my-account\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">My account</h1>\n            </div>\n\n            <div class=\"column is-12\">\n                <button @click=\"logout()\" class=\"button is-danger\">Log out</button>\n            </div>\n\n            <hr>\n\n            <div class=\"column is-12\">\n                <h2 class=\"subtitle\">My orders</h2>\n\n                <OrderSummary\n                    v-for=\"order in orders\"\n                    v-bind:key=\"order.id\"\n                    v-bind:order=\"order\" />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport OrderSummary from '@/components/OrderSummary.vue'\nexport default {\n    name: 'MyAccount',\n    components: {\n        OrderSummary\n    },\n    data() {\n        return {\n            orders: []\n        }\n    },\n    mounted() {\n        document.title = 'My account | Djackets'\n        this.getMyOrders()\n    },\n    methods: {\n        logout() {\n            axios.defaults.headers.common[\"Authorization\"] = \"\"\n            localStorage.removeItem(\"token\")\n            localStorage.removeItem(\"username\")\n            localStorage.removeItem(\"userid\")\n            this.$store.commit('removeToken')\n            this.$router.push('/')\n        },\n        async getMyOrders() {\n            this.$store.commit('setIsLoading', true)\n            await axios\n                .get('/api/v1/orders/')\n                .then(response => {\n                    this.orders = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            this.$store.commit('setIsLoading', false)\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}